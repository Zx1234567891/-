# 1 题目要求

一、 任务 设计制作一个小球运动控制定位系统。 系统包括小球轨道运动控制 系统和位置感知系统。 系统结构参考示意及摆放位置见图 1。 图 1 运动目标控制与自动追踪系统结构示意及摆放位置图 由位置感知系统（推荐使用视觉方案） 获得小球位置信息， 通过  PID 算法控制云台电机或舵机， 带动轨道倾斜摆动， 使得小球到达预设 位置并稳定在该位置。小球只能沿着轨道的长度方向滚动， 小球在轨道 上能自由滚动的有效长度不小于300mm，小球直径范围需控制在 10mm至 30mm， 小球颜色不限，重量不限。 

![image-20250221215428585](C:\Users\lxr_dog\AppData\Roaming\Typora\typora-user-images\image-20250221215428585.png)

二、 要求 1.基础要求 （1） 设置小球位置设定功能。 执行此功能， 可设定小球目标位置 （设置“加”、“减” 功能， 最小调节精度不大于 5mm）。 （2） 设置运动开启、 定位成功提示音。 （3） 设置小球位置感知功能。 读出此时小球位置，并输出显示在显示屏上。 （4） 启动运动控制系统， 舵机或云台控制小球轨道开始倾斜摆动，使小球开 始滚动，并达到轨道中心点，并稳定在该位置。 2.发挥部分 （1） 启动运动控制系统，舵机或云台可控制小球轨道开始倾斜摆动，使小球 开始滚动，并达到预设位置，并稳定在该位置。 （2） 小球位置与目标位置误差不超过 3mm，从开始运动到达到指定位置停止 响应时间小于10s，小球定位超调量不大于10mm。 （3） 其他 三、 说明 （1） 控制系统不能采用台式计算机或笔记本电脑。不符合要求不进行测试。

# 2 电控与电路方案

一 电路部分

供电采用两块12v电池进行供电，对jeston，屏幕使用一块电池，电机使用一块电池，保证jeston的供电充足与安全，usb摄像头使用jeston的usb口进行5v供

二电控部分

主控选用jeston，jeston拥有强大的运算能力可以实时处理图像信息获取球的速度和位置信息，并且拥有usb，uart，hdmi等通信接口用于获取图像，控制电机运动与图形界面显示，jeston可以完成全部的通讯与控制操作，不需额外的控制芯片，由于轮趣科技步进电机自带角度与速度闭环，故主控不需检测电机的运动，人机交互界面由触控屏进行控制与显示数据

![](E:\lxr_dog\Desktop\训练题1\绘图1.png)

#  3视觉与结构方案

一 视觉部分

要在NVIDIA Jetson平台上使用USB摄像头实现目标跟踪，参考以下方案：

**1. 硬件准备：**

- **NVIDIA Jetson开发板：** 如Jetson Nano、Jetson TX2或Jetson Xavier NX等。
- **USB摄像头：** 确保摄像头与Jetson兼容，并支持所需的分辨率和帧率。

**2. 摄像头配置：**

- **连接摄像头：** 将USB摄像头连接到Jetson的USB端口。
- **测试摄像头：** 使用`v4l2-ctl`命令或OpenCV代码验证摄像头是否正常工作。

**3. 目标检测与跟踪：**

- 目标检测：

   使用YOLOv5等深度学习模型进行目标检测。

  - **模型训练：** 根据您的应用场景，使用相关数据集训练YOLOv5模型。
  - **模型部署：** 将训练好的模型部署到Jetson上，利用TensorRT进行优化以提高推理速度。

**4. 实现步骤：**

1. **摄像头初始化：** 使用OpenCV打开USB摄像头。

2. **目标检测：** 每帧图像输入YOLOv5模型，获取检测结果。

3. **目标跟踪：** 在检测到目标后，初始化跟踪器，并在后续帧中进行跟踪。

4. **速度与位置计算**：位置：在固定机位的情况下，一相对于某一固定点的距离实现测量

   ​				速度：截取两帧照片间的间距，计算为速度

**参考资料：**

- **Jetson TX2控制舵机目标跟踪（颜色、人脸、眼睛）：** 这篇文章介绍了如何在Jetson TX2上实现基于颜色、人脸和眼睛的目标跟踪，包括舵机控制的实现。 citeturn0search0
- **基于视觉语言的物体追踪云台系统（Jetson Nano，YOLOv5）：** 这篇文章详细介绍了如何在Jetson Nano上部署YOLOv5模型，实现物体追踪云台系统，包括UI和语音交互的实现。 citeturn0search1。

二.结构部分：

本次项目的结构相较简单：

由电机带动由亚克力版制作的凹型槽即可，电机有热熔胶等粘贴固定在铁架台上，大致如下：

![image-20250222032208200](C:\Users\lxr_dog\AppData\Roaming\Typora\typora-user-images\image-20250222032208200.png)

